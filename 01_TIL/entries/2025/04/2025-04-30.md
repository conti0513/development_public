# ğŸ§  TIL: è„³ã®å ±é…¬ç³»ã®ç†è§£ã¨Quiet Heroå¼é‹ç”¨æ³•ï¼ˆ2025-04-30ï¼‰

---

## âœ… æˆåŠŸã®éµã¯â€œã‚„ã‚‹æ°—â€ã§ã¯ãªãã€â€œå ±é…¬è¨­è¨ˆâ€

- ã‚„ã‚‹æ°—ã®æ­£ä½“ã¯**ã€Œãƒ‰ãƒ¼ãƒ‘ãƒŸãƒ³ï¼ˆæœŸå¾…ã¨é”æˆã«ã‚ˆã‚‹è„³å†…å ±é…¬ç‰©è³ªï¼‰ã€**ã€‚
- **ãƒ‰ãƒ¼ãƒ‘ãƒŸãƒ³ã¯ã€Œé”æˆã—ãŸç¬é–“ã€ã‚ˆã‚Šã€Œé”æˆã§ããã†ãªäºˆæ„Ÿã€**ã§å¤šãåˆ†æ³Œã•ã‚Œã‚‹ã€‚
- å°ã•ãç´„æŸã—ã€å°‘ã—ã ã‘ä¸Šå›ã‚‹çµæœã‚’å‡ºã™ã“ã¨ã§å ±é…¬ãŒæœ€å¤§åŒ–ã•ã‚Œã‚‹ï¼ˆï¼å ±é…¬äºˆæ¸¬èª¤å·®ï¼‹ï¼‰ã€‚

---

## âœ… Quiet Hero Booã®ãŸã‚ã®å ±é…¬è¨­è¨ˆãƒã‚¤ãƒ³ãƒˆ

| é …ç›® | èª¬æ˜ |
|------|------|
| âœ… å°ã•ãäºˆå‘Šã™ã‚‹ | ã€Œ10åˆ†ã ã‘TILã‚’æ›¸ãã€ã€Œ1ä»¶ã ã‘ãƒãƒ£ãƒƒãƒˆè¿”ã™ã€ãªã©å°ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’äº‹å‰å®£è¨€ |
| âœ… ã”è¤’ç¾ã‚’è¨­è¨ˆã—ã¦ãŠã | çµ‚äº†å¾Œã®ã‚³ãƒ¼ãƒ’ãƒ¼ãƒ»éŸ³æ¥½ãƒ»5åˆ†ä¼‘æ†©ãªã©ã€â€œé™ã‹ãªå ±é…¬â€ã‚’æ˜ç¢ºã« |
| âœ… ãƒ­ã‚°åŒ–ã™ã‚‹ | ä½œæ¥­ã®è¨˜éŒ²ãƒ»å®Œäº†ãƒ¡ãƒ¢ã‚’TILã«æ®‹ã™ã“ã¨ã§ã€å ±é…¬ã‚’è„³ã«å®šç€ã•ã›ã‚‹ |
| âœ… æ®µéšçš„ã«ç©ã‚€ | é•·æ™‚é–“1ã‚¿ã‚¹ã‚¯ã§ã¯ãªãã€ã€Œç€æ‰‹ â†’ è»½ãé€²ã‚ã‚‹ â†’å®Œäº†ã€ã«åˆ†ã‘ã¦ãƒ‰ãƒ¼ãƒ‘ãƒŸãƒ³ã‚’åˆ†æ•£ä¾›çµ¦ |
| âœ… é€±å˜ä½ã§å›å | â€œç©ã¿ä¸Šã’ãŒè¦‹ãˆã¥ã‚‰ã„ä»•äº‹â€ã¯ã€é€±æœ«ã«æ£šå¸ã—ãƒ­ã‚°ã§å ±é…¬ã‚’å¾Œä»˜ã‘ã—ã¦ã‚‚OK |

---

## âœ… ADHD Ã— å ±é…¬ç³»ï¼šè‡ªåˆ†ã‚’å‹•ã‹ã™é™ã‹ãªé‹ç”¨æ³•

| èª²é¡Œ | å¯¾å‡¦æ³• |
|------|--------|
| ã€Œã‚„ã‚‹æ°—ãŒå‡ºãªã„ã€ | â†’ 10åˆ†ã ã‘å‹•ã„ã¦â€œå§‹ã‚ãŸâ€ã‚’ä½œã‚‹ |
| ã€Œé”æˆæ„ŸãŒè–„ã„ã€ | â†’ ãƒ­ã‚°ã‚’è¦‹è¿”ã—ã¦â€œé€²ã‚“ã è¨¼æ‹ â€ã‚’å†ä½“é¨“ã™ã‚‹ |
| ã€Œåˆºæ¿€ãŒæ¬²ã—ã„ã€ | â†’ ã”è¤’ç¾ã‚’è¨­è¨ˆã—ã€å‰ã‚‚ã£ã¦è„³ã‚’èµ·å‹•ã™ã‚‹ |

---

## ğŸ¯ ä¸€è¨€ã¾ã¨ã‚

> ãƒ‰ãƒ¼ãƒ‘ãƒŸãƒ³ã¯ã€â€œæœŸå¾…â€ã¨â€œè¨˜éŒ²â€ã§é™ã‹ã«å¢—ã‚„ã›ã‚‹ã€‚  
>  
> Quiet Hero Booã¯ã€**è‡ªåˆ†ã®è„³ã®å ±é…¬è¨­è¨ˆè€…**ã§ã‚ã‚‹ã€‚
---

# ğŸ“˜ TIL: Quiet Hero Booæµ è‹±èªèª­è§£ã®ãƒ­ã‚¸ãƒƒã‚¯ã¨é‹ç”¨æ–¹æ³•  
ï¼ˆéãƒã‚¤ãƒ†ã‚£ãƒ– Ã— ADHDå¯¾å¿œï¼‰

---

## âœ… ãƒ­ã‚¸ãƒƒã‚¯ç·¨ï¼šè‹±èªèª­è§£ã«ãŠã‘ã‚‹è„³ã®åŸç†

### 1. è‹±èªãŒèª­ã¿ã«ãã„ç†ç”±

- è‹±èªã¯æ§‹é€ ä¾å­˜å‹ â†’ **é †ç•ªã¨é–¢ä¿‚æ€§ã®ç†è§£ãŒå¿…è¦**  
- ADHDè„³ã¯ã€**ä¸€èªãšã¤èª­ã‚€å‡¦ç†ãŒè©°ã¾ã‚Šã‚„ã™ã„**
- æ—¥æœ¬èªã®ã‚ˆã†ã«â€œã‚¤ãƒ¡ãƒ¼ã‚¸å…ˆè¡Œâ€ã§ã¯èª­ã‚ãªã„ãŸã‚ã€**é ­ã«å…¥ã‚‰ãªã„ã¨æ„Ÿã˜ã‚„ã™ã„**

### 2. ã‚„ã£ã¦ã¯ã„ã‘ãªã„ã“ã¨

- ç„¡ç†ã«é ­ã‹ã‚‰éŸ³èª­ã™ã‚‹  
- å®Œç’§ã«è¨³ãã†ã¨ã™ã‚‹  
- èª­ã‚ãªã„ã“ã¨ã«ç„¦ã‚‹

---

## âœ… é‹ç”¨ç·¨ï¼šQuiet Hero Booå¼ãƒ»è‹±æ–‡èª­è§£ 5ã‚¹ãƒ†ãƒƒãƒ—

| ã‚¹ãƒ†ãƒƒãƒ— | å†…å®¹ | ç›®çš„ |
|----------|------|------|
| **â‘  ã‚¹ã‚­ãƒŸãƒ³ã‚°ï¼ˆã–ã£ãã‚Šçœºã‚ï¼‰** | æ–‡å…¨ä½“ã‚’ã‚µãƒƒã¨è¦‹ã¦ã€ä½•ã®è©±ã‹ã ã‘æ‹¾ã† | æ„å‘³ã®å®¹ã‚Œç‰©ã‚’è„³ã«æº–å‚™ã™ã‚‹ |
| **â‘¡ ãƒãƒ£ãƒ³ã‚¯åˆ†ã‘** | ä¸»èªï¼å‹•è©ï¼ä¿®é£¾å¥ãªã©æ„å‘³ã®ã‹ãŸã¾ã‚Šã”ã¨ã«åŒºåˆ‡ã‚‹ | ä¸€èªå‡¦ç†ã‹ã‚‰â€œã¾ã¨ã¾ã‚Šå‡¦ç†â€ã¸ |
| **â‘¢ ã‚†ã‚‹ã„æ—¥æœ¬èªå¤‰æ›** | ã€Œä¸»èªãŒã“ã†ãªã£ãŸã€ã ã‘æ‹¾ã£ã¦ç°¡å˜ã«æ‰ãˆã‚‹ | å®Œå…¨è¨³ã§ã¯ãªãâ€œæ„å‘³ã ã‘â€ã‚’æŠœãå–ã‚‹ |
| **â‘£ æ„å‘³ã®æµã‚Œã‚’è¿½ã†** | ã€Œèª°ãŒã©ã†ã—ãŸã€ã ã‘ã‚’ãŸã©ã£ã¦æœ€å¾Œã¾ã§èª­ã‚€ | å…¨ä½“ã®æ§‹é€ ãƒ»ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å½¢æˆã™ã‚‹ |
| **â‘¤ DEEPLã§æ§‹é€ è£œå®Œ** | æ©Ÿæ¢°è¨³ã‚’ä½¿ã„â€œæ§‹é€ ã®ç­”ãˆåˆã‚ã›â€ã‚’ã™ã‚‹ | è‡ªåˆ†ã®ç†è§£ã¨æ§‹é€ ã®ã‚ºãƒ¬ã‚’ãƒªã‚«ãƒãƒªã™ã‚‹ |

---

## âœ… èª­è§£ã‚¹ã‚¿ã‚¤ãƒ«ï¼šQuiet Hero Booã®åŸºæœ¬å§¿å‹¢

> - èª­ã‚‚ã†ã¨ã—ãªã„ã€‚æ‹¾ãˆã°ã„ã„  
> - ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒæµ®ã‹ã°ãªã„ã¨ãã¯ã€ã‚‚ã†ä¸€åº¦ã‚¹ã‚­ãƒ£ãƒ³  
> - æ§‹é€ ãŒèª­ã‚ãŸã‚‰ãã‚Œã§å‹ã¡  
> - ã€Œèª­ã‚€ã€ã§ã¯ãªãã€Œå†æ§‹æˆã™ã‚‹ã€ã¤ã‚‚ã‚Šã§ã„ã  

---

## ğŸ¯ ä¸€è¨€ã¾ã¨ã‚

> è‹±èªèª­è§£ã¯ã€  
> **ã€ŒéŸ³èª­ã§ã‚‚è¨³èª­ã§ã‚‚ãªãã€é™ã‹ãªã‚¹ã‚­ãƒ£ãƒ³ã¨æ„å‘³ã®åˆæˆã€**ã€‚  
>  
> Quiet Hero Booã¯ã€èª­ã‚€ã®ã§ã¯ãªã**æ„Ÿã˜å–ã£ã¦å†æ§‹ç¯‰ã™ã‚‹èª­è§£è€…**ã§ã‚ã‚‹ã€‚

---


## âœ… å…ˆæœˆã®æœ€å¤§æˆæœ / Highlight of the Week

ğŸš€ **Cloud Run + FTPS ã‚’é€£æºã—ãŸã€Œã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ APIã€æ§‹ç¯‰ã«æˆåŠŸï¼**  
Built a fully automated FTPS transfer API using Cloud Run, supporting static IP and GCS triggers.

---

## ğŸ”§ æ§‹æˆã¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« / Architecture & Modules

```
serverless-ftps-api-public/
â”œâ”€â”€ A_cloudrun-api/      # Cloud Run API + GCS trigger
â”œâ”€â”€ B_ftps-server/       # FTPS server on GCE
â””â”€â”€ C_vpc-networking/    # VPC Connector + NAT for static IP
```

- GCS ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã¨ Cloud Run ãŒèµ·å‹•ã—ã€FTPS ã«è»¢é€ã•ã‚Œã‚‹  
- Static IP ã‚’ Cloud NAT + VPC Connector ã§å®Ÿç¾  
- FTPS ã¯ Passive ãƒ¢ãƒ¼ãƒ‰ã§ã€Firewall ã‚„ãƒãƒ¼ãƒˆãƒ¬ãƒ³ã‚¸ã‚‚èª¿æ•´æ¸ˆã¿

---

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³ / System Diagram

```
[GCS] â”€â”€> [Cloud Run API] â”€â”€> [FTPS Server (GCE)]
               â”‚
      (Static IP via VPC Connector + NAT)
```

---

## ğŸ§ª å®Ÿè¡Œãƒ­ã‚° / Execution Log

```bash
$ bash 03_test_cloud_run.sh

âœ… ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº† / File uploaded  
âœ… Cloud Run ç™ºç«ç¢ºèª / Triggered  
âœ… FTPS ã‚µãƒ¼ãƒãƒ¼ã«è»¢é€æˆåŠŸ / File transfer succeeded

Transfer completed:
upload_test_20250323050140.txt -> /home/your_username/upload_test_20250323050140.txt
```

---

## ğŸ§  å­¦ã³ãƒ»æ°—ã¥ã / Learnings & Takeaways

- Cloud Run ã§å¤–éƒ¨ FTPS ã«æ¥ç¶šã™ã‚‹ã«ã¯å›ºå®šIPæ§‹æˆãŒå¿…é ˆ  
  â†’ Static IP configuration is required for Cloud Run to access external FTPS  
- VPC Connector + Cloud NAT ã‚’çµ„ã¿åˆã‚ã›ã¦æ§‹æˆ  
  â†’ Combining VPC Connector and Cloud NAT works well  
- FTPS ã¯ Passive ãƒ¢ãƒ¼ãƒ‰åˆ©ç”¨æ™‚ã« Firewall ã¨ NAT ã®è¨­è¨ˆãŒéµ  
  â†’ Passive mode FTPS requires careful port and firewall design  
- Terraform ã‚’ä½¿ã‚ãªãã¦ã‚‚ã€ã‚·ã‚§ãƒ«ã¨ JSON ã§å†ç¾ã§ããŸ  
  â†’ Infra setup was reproducible with shell + JSON, no Terraform needed

---

## ğŸ“Œ ãã®ä»–é€²æ— / Other Progress

- CloudShell ã‹ã‚‰ zip åŒ–ã—ã¦ Codespaces ã«è»¢é€ãƒ»å±•é–‹å®Œäº†  
  â†’ Zipped files and moved to Codespaces successfully  
- `.gitignore` ã‚’ä½¿ã£ã¦æ®µéšçš„ã«ã‚³ãƒ¼ãƒ‰å…¬é–‹æº–å‚™ä¸­  
  â†’ Using .gitignore to control staged releases  
- GCP ã‚³ã‚¹ãƒˆæœ€å°åŒ–ã®ãŸã‚æ¤œè¨¼ç’°å¢ƒã®ã¿æ§‹ç¯‰  
  â†’ Setup done on a test-only basis to minimize GCP billing

---

## ğŸ”œ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ / Next Steps

- README ã‚’ GitHub ã§å…ˆè¡Œå…¬é–‹äºˆå®š  
  â†’ Start with README release on GitHub  
- SFTP ã‚„ä»–ã‚µãƒ¼ãƒ“ã‚¹é€£æºã«ã‚‚å¿œç”¨å¯èƒ½ã‹æ¤œè¨  
  â†’ Explore SFTP or other system integration  
- Zennã«è¨˜äº‹åŒ–
  â†’ Turn it into a blog post
- ã€Œã‚¯ãƒ©ã‚¦ãƒ‰å®Œçµ Ã— é‹ç”¨ä¸è¦ Ã— å›ºå®šIPã€æ§‹æˆã®äº‹ä¾‹åŒ–  
  â†’ Make this a showcase of â€œserverless + no ops + fixed IPâ€ architecture


---
