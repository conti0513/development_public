# ğŸ“˜ TIL - 2025-05-11

## âœ… What I Learned Today

ğŸ” **Security+ Section 03.3 â€“ Data Types, States, and Protection**
Studied how data is classified, how it moves, and how to protect itâ€”through the lens of **lifecycle-aware architecture**.

---

## ğŸ“š Lecture Highlights

### 68 â€“ Data Types and Classifications

* Explored categories like **PII**, **PHI**, and sensitivity levels.
* Reconfirmed classification as a *control mechanism*, not cosmetic.

### 69 â€“ States of Data

* Reviewed **three states**: at rest, in transit, in use.
* Learned how each state has unique protection strategies:

  * Disk encryption, TLS/IPsec, memory access control, etc.

### 70 â€“ Protecting Data

* Deep dive into **encryption**, **masking**, and **retention**.
* Emphasized compliance readiness and privacy by design.

---


### 71 â€“ Resiliency

* **High Availability (HA)** ensures systems remain operational during failures.
* **Fault Tolerance** allows systems to continue functioning even when components fail.
* **Redundancy** involves duplicating critical components to prevent single points of failure.

### 72 â€“ Capacity Planning

* Involves forecasting future resource needs to ensure scalability.
* Helps in avoiding performance bottlenecks by proactive resource allocation.([Quizlet][1])

### 73 â€“ Recovery Testing

* Regularly testing backup and recovery procedures to ensure data integrity.
* Includes conducting disaster recovery drills to prepare for actual incidents.([YouTube][2])

### 74 â€“ Backups

* Understanding different backup types: full, incremental, and snapshot.
* Implementing backup strategies that align with organizational needs.
* Ensuring backups are stored securely and can be restored effectively.

### 75 â€“ Power Resiliency

* Utilizing **Uninterruptible Power Supplies (UPS)** and generators to maintain power continuity.
* Implementing dual power supplies to prevent power-related disruptions.([professormesser.com][3])
---

## ğŸ§  Meta-Reflection (æ—¥æœ¬èªè£œè¶³)

* ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯ã€**ã€Œãƒ‡ãƒ¼ã‚¿ä¿è­·ï¼æš—å·åŒ–ã€ã ã‘ã§ã¯ãªã„**ã¨ã„ã†æ„è­˜æ”¹é©ã‚’ã‚‚ãŸã‚‰ã—ãŸã€‚
* ãƒ‡ãƒ¼ã‚¿åˆ†é¡ãƒ»çŠ¶æ…‹ãƒ»é˜²å¾¡ç­–ã‚’**1ã¤ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«è¨­è¨ˆã¨ã—ã¦æ‰ãˆã‚‹è¦–ç‚¹**ã¯ã€ä»Šå¾Œã®Slacké€šçŸ¥ã‚„ç›£è¦–è¨­è¨ˆã«ã‚‚å¿œç”¨å¯èƒ½ã€‚
* TILã®ç©ã¿ä¸Šã’ã«ã‚ˆã£ã¦ã€å®Ÿè£…ãƒ»æ§‹æˆãƒ»ç›£æŸ»ã‚’ä¸€è²«ã—ã¦è¨­è¨ˆã§ãã‚‹åŸºç›¤ãŒè¦‹ãˆå§‹ã‚ã¦ã„ã‚‹ã€‚

---

## ğŸ§© Application Ideas

* Draft `data_lifecycle_map.md` to visualize stateâ€“control mapping
* Add PHI/PII detection logic to Slack notification filters
* Reflect these controls in GCP-based alert + retention pipeline templates

---

## ğŸ” Next Steps

* Start **Section 03.4 â€“ Resilience & Recovery**
* Add glossary terms from todayâ€™s lectures to `glossary.md`
* Begin cross-referencing with `devops_notes/data_security/`

---

## ğŸ·ï¸ Tags

* [x] Data Protection
* [x] PII / PHI
* [x] Security+ 03.3
* [x] Lifecycle Security
* [x] Classification Logic
* [x] Privacy-aware Design
* [x] Quiet Engineer Strategy

---



# ğŸ“˜ TIL - 2025-04 Security Engineerâ€™s Highlight

## âœ… Highlight of the Month

ğŸ§  **CompTIA Security+ å…¨ä½“æ§‹æˆã®è¦ç‚¹æ•´ç†ã‚’é–‹å§‹**
ä½“ç³»çš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£çŸ¥è­˜ã‚’ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆãƒ™ãƒ¼ã‚¹ã§ã¾ã¨ã‚å§‹ã‚ã€**ç¾å ´å®Ÿè£…ã®è£ä»˜ã‘ã¨ãªã‚‹è¨­è¨ˆæ€è€ƒã‚’å¼·åŒ–ä¸­**ã€‚

> Initiated structured markdown summaries for Security+ (SY0-701), organized by topic and enriched with real-world reflection.
> Goal: align theoretical frameworks with hands-on architectures from prior work (e.g., GCP, monitoring, alert design).

---

## ğŸ—‚ï¸ Output Directory (Markdown Format)

```bash
/workspaces/development_public/comptia/
â”œâ”€â”€ 01.x.md  # Threats, Vulnerabilities, Attacks
â”œâ”€â”€ 02.x.md  # Security Architecture & Design
â”œâ”€â”€ 03.x.md  # Secure Networking Concepts
â”œâ”€â”€ README.md  # Global index + cross-links
```

* åˆè¨ˆ15ãƒ•ã‚¡ã‚¤ãƒ«ä»¥ä¸Šã€å„ãƒˆãƒ”ãƒƒã‚¯ã‚’ç´„1,000ã€œ8,000å­—ã§è¦ç´„ãƒ»å†æ§‹æˆ
* Markdownã§æ®µéšçš„ã«å±•é–‹å¯èƒ½ãªãŸã‚ã€TILã‚„ãƒ–ãƒ­ã‚°ã¸ã®è»¢ç”¨ãŒå®¹æ˜“
* å„ãƒ•ã‚¡ã‚¤ãƒ«ã« **ç¾å ´ã§ã®é©ç”¨å¯èƒ½æ€§ãƒ»ãƒ­ã‚°ã¨ã®ã¤ãªãè¾¼ã¿è¦–ç‚¹** ã‚’è¿½è¨˜

---

## ğŸ“Œ æ„è­˜ã—ã¦ã„ã‚‹ã“ã¨

* ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è³‡æ ¼ã‚’\*\*ã€ŒçŸ¥è­˜ã®è¨¼æ˜ã€ã§ã¯ãªãã€Œè¨­è¨ˆã®è¨€èªåŒ–è£œåŠ©ãƒ„ãƒ¼ãƒ«ã€\*\*ã¨æ‰ãˆã‚‹
* è³‡æ ¼å¯¾ç­–ã®ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã§ã¯ãªãã€**TILãƒªãƒã‚¸ãƒˆãƒªã¨ã®ç›¸äº’ãƒªãƒ³ã‚¯ã§å†ç¾æ€§ã‚ã‚‹ãƒŠãƒ¬ãƒƒã‚¸ã«å¤‰æ›**
* å®Ÿè£…ãƒ»æ§‹æˆã«è£æ‰“ã¡ã•ã‚ŒãŸè¨€èªã‚’æ•´ãˆã‚‹ã“ã¨ãŒã€**ä¾¿åˆ©å±‹ã§ã¯ãªã„ä¾¡å€¤ã®è¦‹ã›æ–¹ã«ãªã‚‹**

---

## ğŸ” Next Steps

* ã‚»ã‚¯ã‚·ãƒ§ãƒ³04ï¼ˆIdentity & Authenticationï¼‰ä»¥é™ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’5æœˆä¸­ã«å®Œäº†äºˆå®š
* TILå†…ã® `glossary.md` ã‚’ `comptia/README.md` ã«é€£å‹•ã•ã›ã‚‹æ§‹æƒ³ä¸­
* éå»ã®Cloudæ§‹æˆã‚„Slacké€šçŸ¥è¨­è¨ˆã¨ãƒªãƒ³ã‚¯ã™ã‚‹ã€Œå¿œç”¨ä¾‹ãƒšãƒ¼ã‚¸ã€ã‚‚æ¤œè¨

---

## ğŸ·ï¸ Tags

* [x] CompTIA Security+
* [x] Markdown-based Knowledge Base
* [x] Threat Modeling
* [x] Secure Design Principles
* [x] Security Architecture Language
* [x] Documentation as Output
---


# ğŸ“˜ TIL - 2025-03 Security Engineerâ€™s Highlight

## âœ… Highlight of the Month

ğŸš€ **Secure FTPS Transfer API over Cloud Run with Static IP Architecture**
Cloud Run Ã— FTPS Ã— VPC Networking ã‚’æ´»ç”¨ã—ãŸã€å†ç¾æ€§ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’ä¸¡ç«‹ã™ã‚‹**ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€åŸºç›¤**ã‚’æ§‹ç¯‰ã€‚

> Designed and implemented a stateless, serverless file transfer pipeline using Cloud Run and FTPS (Passive mode), with static IP support via VPC Connector + Cloud NAT.

---

## ğŸ” Security Architecture Overview

```
[GCS] â”€â”€(trigger)â”€â”€> [Cloud Run API]
                           â”‚
                 (Static IP via NAT + VPC Connector)
                           â”‚
                 â”€â”€> [FTPS Server on GCE]
```

* **Encrypted File Transfer**: FTPS (TLS) ensures in-transit confidentiality.
* **Static Egress IP**: Enables access to legacy servers with IP whitelisting.
* **Passive Mode Configuration**: Port 21 + range 50000â€“55000 opened explicitly.
* **Least Privilege Scope**: Access limited to specific GCS buckets and FTPS target only.

---

## ğŸ§© Modular Breakdown

| Module              | Purpose                    | Security Role                         |
| ------------------- | -------------------------- | ------------------------------------- |
| `A_cloudrun-api/`   | GCS-triggered upload logic | Stateless transfer handler            |
| `B_ftps-server/`    | FTPS with TLS on GCE       | Secure endpoint with logging          |
| `C_vpc-networking/` | VPC Connector + NAT        | Egress IP control, isolation enforced |

---

## ğŸ§  Security-Centric Learnings

* ğŸ” **Cloud Run integration with external FTPS requires static IP control** due to whitelist constraints.
* ğŸ§± **Passive FTPS mode** introduces complex NAT traversal and firewall design requirements.
* ğŸ§ª Logging and modularization support **traceability and audit-readiness**.
* âš–ï¸ Entire setup was scripted via **shell and JSON**, no Terraform usedâ€”ideal for small, controlled deployments or POC.

---

## ğŸ“ Operational Validation Log

```bash
âœ… GCS trigger: file uploaded
âœ… Cloud Run fired: function started
âœ… FTPS succeeded: secure upload confirmed

Transferred:
upload_test_20250323050140.txt â†’ /home/your_username/...
```

---

## ğŸ§­ Reflection as a Security Engineer

* å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å½¹å‰²ã‚’æ˜ç¢ºã«åˆ†é›¢ï¼ˆãƒˆãƒªã‚¬ãƒ¼ï¼é€šä¿¡ï¼å›ºå®šIPç®¡ç†ï¼‰ã—ã€**å†åˆ©ç”¨ãƒ»ç›£æŸ»å¯¾å¿œãƒ»éšœå®³åˆ‡ã‚Šåˆ†ã‘**ã«å¼·ã„è¨­è¨ˆã‚’å®Ÿç¾ã€‚
* **å®Ÿè£…è¦–ç‚¹ã«åã‚ŠãŒã¡ãªFTPSé€šä¿¡ã‚’ã€æ§‹æˆè¨­è¨ˆã¨é€šä¿¡åˆ¶å¾¡ã®è¦³ç‚¹ã§å†è©•ä¾¡**ã€‚
* ã‚³ãƒ¼ãƒ‰ã®ä¸€è²«æ€§ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™ã«ã‚ˆã‚Šã€**ä»–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®è»¢ç”¨æ€§ã¨å…±æœ‰å¯èƒ½æ€§**ã‚‚ç¢ºä¿ã€‚

---

## ğŸ” Next Steps

* `detection_scenarios/` ã«ã€Œå¤–éƒ¨FTPSé€£æºã€ç”¨ã®æ¤œçŸ¥ãƒ«ãƒ¼ãƒ«ã‚’è¨˜è¿°
* Cloud NATæ§‹æˆã‚’ Terraform ç‰ˆã§ã‚‚å†ç¾äºˆå®š
* æ§‹æˆå›³ãŠã‚ˆã³READMEã‚’ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦–ç‚¹ã§ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
* Slacké€šçŸ¥æ™‚ã«è»¢é€æ¤œçŸ¥ãƒ­ã‚°ã‚’ä»˜åŠ ã™ã‚‹ãŸã‚ã®ç½²åä»˜ãWebhookã‚’è¨­è¨ˆä¸­

---

## ğŸ·ï¸ Tags

* [x] FTPS / TLS
* [x] Cloud Run Ã— Static IP
* [x] Passive Mode Configuration
* [x] Audit-Ready Architecture
* [x] GCP / Cloud Networking
* [x] Detection Logic Design
* [x] Shell-Based Infra Automation

---



## âœ… 3æœˆã®æœ€å¤§æˆæœ / Highlight of the Week

ğŸš€ **Cloud Run + FTPS ã‚’é€£æºã—ãŸã€Œã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ APIã€æ§‹ç¯‰ã«æˆåŠŸï¼**  
Built a fully automated FTPS transfer API using Cloud Run, supporting static IP and GCS triggers.

---

## ğŸ”§ æ§‹æˆã¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« / Architecture & Modules

```
serverless-ftps-api-public/
â”œâ”€â”€ A_cloudrun-api/      # Cloud Run API + GCS trigger
â”œâ”€â”€ B_ftps-server/       # FTPS server on GCE
â””â”€â”€ C_vpc-networking/    # VPC Connector + NAT for static IP
```

- GCS ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã¨ Cloud Run ãŒèµ·å‹•ã—ã€FTPS ã«è»¢é€ã•ã‚Œã‚‹  
- Static IP ã‚’ Cloud NAT + VPC Connector ã§å®Ÿç¾  
- FTPS ã¯ Passive ãƒ¢ãƒ¼ãƒ‰ã§ã€Firewall ã‚„ãƒãƒ¼ãƒˆãƒ¬ãƒ³ã‚¸ã‚‚èª¿æ•´æ¸ˆã¿

---

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³ / System Diagram

```
[GCS] â”€â”€> [Cloud Run API] â”€â”€> [FTPS Server (GCE)]
               â”‚
      (Static IP via VPC Connector + NAT)
```

---

## ğŸ§ª å®Ÿè¡Œãƒ­ã‚° / Execution Log

```bash
$ bash 03_test_cloud_run.sh

âœ… ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº† / File uploaded  
âœ… Cloud Run ç™ºç«ç¢ºèª / Triggered  
âœ… FTPS ã‚µãƒ¼ãƒãƒ¼ã«è»¢é€æˆåŠŸ / File transfer succeeded

Transfer completed:
upload_test_20250323050140.txt -> /home/your_username/upload_test_20250323050140.txt
```

---

## ğŸ§  å­¦ã³ãƒ»æ°—ã¥ã / Learnings & Takeaways

- Cloud Run ã§å¤–éƒ¨ FTPS ã«æ¥ç¶šã™ã‚‹ã«ã¯å›ºå®šIPæ§‹æˆãŒå¿…é ˆ  
  â†’ Static IP configuration is required for Cloud Run to access external FTPS  
- VPC Connector + Cloud NAT ã‚’çµ„ã¿åˆã‚ã›ã¦æ§‹æˆ  
  â†’ Combining VPC Connector and Cloud NAT works well  
- FTPS ã¯ Passive ãƒ¢ãƒ¼ãƒ‰åˆ©ç”¨æ™‚ã« Firewall ã¨ NAT ã®è¨­è¨ˆãŒéµ  
  â†’ Passive mode FTPS requires careful port and firewall design  
- Terraform ã‚’ä½¿ã‚ãªãã¦ã‚‚ã€ã‚·ã‚§ãƒ«ã¨ JSON ã§å†ç¾ã§ããŸ  
  â†’ Infra setup was reproducible with shell + JSON, no Terraform needed

---

## ğŸ“Œ ãã®ä»–é€²æ— / Other Progress

- CloudShell ã‹ã‚‰ zip åŒ–ã—ã¦ Codespaces ã«è»¢é€ãƒ»å±•é–‹å®Œäº†  
  â†’ Zipped files and moved to Codespaces successfully  
- `.gitignore` ã‚’ä½¿ã£ã¦æ®µéšçš„ã«ã‚³ãƒ¼ãƒ‰å…¬é–‹æº–å‚™ä¸­  
  â†’ Using .gitignore to control staged releases  
- GCP ã‚³ã‚¹ãƒˆæœ€å°åŒ–ã®ãŸã‚æ¤œè¨¼ç’°å¢ƒã®ã¿æ§‹ç¯‰  
  â†’ Setup done on a test-only basis to minimize GCP billing

---