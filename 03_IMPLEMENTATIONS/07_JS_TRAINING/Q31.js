/**
 * Mastery Drill: No.31 (Strict Null Check / 空の判定)
 * --------------------------------------------------
 * 【シナリオ】
 * 変数が「空（null）」か「未定義（undefined）」かを確実に判定し、
 * 後続の処理でエラー（クラッシュ）が発生するのを防げ。
 * --------------------------------------------------
 */

var val = null;

// --- [基本の形: 厳密チェック] ---
// JSにおいて「値がない」状態は2種類（null と undefined）ある。
// これら両方を安全に弾くのが現場の鉄則。
if (val === null || val === undefined) {
    console.log("Q31: 値が空です。これ以上進むとエラーになります。");
}

// --- [実務のテクニック: ゆるいチェック（あえての ==）] ---
// 厳密等価（===）ではなく、あえて（==）を使うと
// null と undefined の両方を1回で判定できる。レガシーコードでよく見る手法。
if (val == null) {
    // val が null または undefined の時だけここを通る
    console.log("Q31 (Short): null または undefined です。");
}

/**
 * 【ハックのポイント：精読時の眼力】
 * 1. 0 や ""（空文字）の罠:
 * if (!val) { ... } という書き方は、val が 0 や "" の時も「空」とみなしてしまいます。
 * 「数値の0は有効なデータとして扱いたい」場合にこの書き方をしている箇所があれば、
 * それはバグの予兆です。
 * * 2. 参照前のガード:
 * var name = user.profile.name; // userがnullならここで即死
 * 精読中、ドット（.）で深く潜っているコードを見つけたら、
 * その手前で Q31 のチェックがされているか必ず確認してください。
 */