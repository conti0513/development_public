# 🚀 JS Training: Enterprise Code Mastery (ES5 to ES6+)

## 📝 リポジトリの目的

本プロジェクトは、最新の JavaScript 開発スキルを持ちながら、**「制約の多いエンタープライズ環境（ServiceNow, ERP, 古いNode.js等）」**で戦うエンジニアのための実践トレーニングドリルです。

モダンな構文（ES6+）を理解した上で、あえてレガシーなエンジン（ES5 / Rhino）でも動作する**「堅牢で、型安全で、死なないコード」**を書くための思考プロセスを養います。

---

## 🏗️ ドリルの構成

全45問のドリルは、単なる文法解説ではなく、実際のシステム開発のフェーズに沿って設計されています。

### 1. 基盤フェーズ (Q01 - Q20)

* **テーマ**: 文法の互換性とガード句。
* **内容**: `var` スコープの制御、厳密な型比較 (`===`)、GO言語の精神を取り入れた「早期リターン」によるネストの浅いコード設計。

### 2. データ・連携フェーズ (Q21 - Q30)

* **テーマ**: 外部データ（JSON/API）のハンドリング。
* **内容**: `try-catch` による例外処理、破壊的操作の回避、正規表現を用いたデータクレンジングなど、システム間連携で最もバグが出るポイントを網羅。

### 3. 保守・デバッグフェーズ (Q31 - Q40)

* **テーマ**: 運用耐性の向上。
* **内容**: `typeof` による未定義保護、`IIFE`（即時実行関数）によるカプセル化。大規模コードベースで「他人のコードと衝突しない」ための作法。

### 4. 品質・インフラ連動フェーズ (Q41 - Q45)

* **テーマ**: テスト駆動とSaaS最適化。
* **内容**:
* **Q41**: `assert` による単体テストの自動化。
* **Q42**: インスタンス（Dev/Prod）判定による身バレ・機密漏洩防止。
* **Q43-45**: コード差分（Diff）の読み方、DBループの最適化、Terraform設定値とのタイムアウト同期。



---

## 🌊 処理フロー図

本ドリルで学ぶコードが、システム全体のどこに位置し、インフラ（Terraform）とどう連携するかを視覚化したものです。

```text
[ Client / Web ]
         |
         | (1) Request (e.g. GET /api/user/101)
         v
  +---------------------------------------+
  |       SaaS Application (Node.js)      |
  |                                       |
  |  [ Controller ]                       |
  |     (2) parse JSON / Guard Clause     | <--- Q31, Q37
  |           |                           |
  |  [ Connection Pool ] <--- (3) Terraformで最大接続数等を管理
  |     (3) await db.query()              |
  +-----------|---------------------------+
              |
              | (4) SQL / Query (🔒 Secure Tunnel)
              v
  +---------------------------------------+
  |          Database (RDS / SQL)         |
  |                                       |
  |  [ Query Engine ]                     |
  |     (5) Search Index                  |
  |     (6) Return Result Row             |
  +-----------|---------------------------+
              |
              | (7) Data Row (e.g. {id:101, name:"Taro"})
              v
  +---------------------------------------+
  |       SaaS Application (Node.js)      |
  |                                       |
  |  (8) Array Processing (find / filter) | <--- Q14, Q30
  |  (9) JSON Stringify                   | <--- Q22
  +-----------|---------------------------+
         |
         | (10) Response (JSON)
         v
  [ Client / Web ]

```

---

## 🛡️ 現場でのチェックリスト（要約）

1. **環境保護**: `(function(){...})();` でスコープを隔離しているか？
2. **型安全**: `parseInt` の基数指定、`isNaN` でのチェックを行っているか？
3. **身バレ防止**: 本番環境（Prod）で機密情報の `console.log` を抑制しているか？
4. **再現性**: 修正後に `assert` テストを走らせ、デグレード（先退り）がないことを確認したか？

---

## 🚀 使い方

各ファイル（`Q01.js`〜`Q45.js`）は、独立したドリルとなっています。
自身の環境（Node.js または ServiceNow の Background Script 等）で実行し、コメントに記載された「実務の視点」を読み解いてください。

---
