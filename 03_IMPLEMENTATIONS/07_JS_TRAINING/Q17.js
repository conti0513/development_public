/**
 * Mastery Drill: No.17 (Type Conversion & parseInt Trap)
 * --------------------------------------------------
 * 【シナリオ】
 * 外部から届いた文字列 "08" を、確実に「数値の 8」として扱えるよう変換せよ。
 * --------------------------------------------------
 */

var input = "08";

// --- [アンチパターン：基数省略] ---
// 古いJS環境では先頭の「0」を8進数と誤認し、予期せぬ計算ミスを招くリスクがある。
var riskyNum = parseInt(input); 

// --- [プロの作法：第2引数に 10 を明示] ---
// 「これは10進数です」と明示するのが、バグを未然に防ぐエンジニアの儀式。
var safeNum = parseInt(input, 10); 

console.log('Q17 変換結果: ' + safeNum); // 8

/**
 * 【ハックのポイント：精読の眼力】
 * * 1. [基数指定の徹底]
 * コードレビューで parseInt(str) を見かけたら、「第2引数に10を足すべき」と
 * 指摘できるのがプロ。環境に依存しない堅牢なコードへの第一歩。
 * * 2. [単項プラス(+)の罠]
 * +input と書けば最短で数値化できるが、空文字が 0 になったり、
 * 意図せぬ型変換が起きることもある。複雑な文字列解析なら parseInt が安全。
 * 1行ハック：「『0から始まる数字の文字列』はバグの元。常に10進数を明示して、JSの勝手な解釈を封じ込めよ」
 */

// おまけ：数値チェック（NaN判定）
if (isNaN(safeNum)) {
    console.error("数値への変換に失敗しました。");
}