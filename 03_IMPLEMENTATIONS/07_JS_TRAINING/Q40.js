/**
 * Mastery Drill: No.40 (IIFE / 即時実行関数)
 * --------------------------------------------------
 * 【シナリオ】
 * 1. 他のスクリプトと変数名が被っても壊れない「安全な実行エリア」を作れ。
 * 2. 定義と同時に実行し、外部から内部の変数にアクセスできないことを確認せよ。
 * --------------------------------------------------
 */

// --- [基本形: IIFEの構造] ---
(function() {
    // この中の変数は「この瞬間だけ」存在し、外からは絶対に見えない
    var tempKey = "SESSION_TEMP_12345";
    
    console.log("Q40 Inside: 安全な隔離空間で処理中... キーは " + tempKey);

})(); // <--- 最後の () が「今すぐ実行せよ」の合図

// --- [検証: 外側からのアクセス] ---
try {
    console.log(tempKey); 
} catch (e) {
    console.log("Q40 Outside: 外部からは tempKey に触れません。安全です。");
}


/**
 * 【ハックのポイント：精読時の眼力】
 * 1. なぜ「おまじない」が必要か:
 * ServiceNowなどのプラットフォームでは、何百ものスクリプトが同時に動きます。
 * もしあなたが `var i = 0;` と書き、他の誰かも `var i = 0;` と書いていたら、
 * お互いのループを破壊し合う「地獄」が始まります。IIFEはそれを防ぐ「防音室」です。
 * * 2. 引数の渡し方:
 * (function(current, g_form) { ... })(current, g_form); 
 * のように、外部のオブジェクトを中に閉じ込めて使うパターンも頻出します。
 */